import { Injectable, Logger } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { ChatGoogleGenerativeAI } from '@langchain/google-genai';
import { HumanMessage, SystemMessage } from '@langchain/core/messages';
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

async function demo() {
  // User –Ω—ç–º—ç—Ö
  const user = await prisma.user.create({
    data: { name: "Baku" },
  });
  console.log("–®–∏–Ω—ç —Ö—ç—Ä—ç–≥–ª—ç–≥—á:", user);

  // Order –Ω—ç–º—ç—Ö
  const order = await prisma.order.create({
    data: {
      userId: user.id,
      status: "pending",
    },
  });
  console.log("–®–∏–Ω—ç –∑–∞—Ö–∏–∞–ª–≥–∞:", order);

  // –ë“Ø—Ö –∑–∞—Ö–∏–∞–ª–≥–∞ —É–Ω—à–∏—Ö
  const orders = await prisma.order.findMany();
  console.log("–ë“Ø—Ö –∑–∞—Ö–∏–∞–ª–≥–∞:", orders);
}

demo();


@Injectable()
export class AiService {
  private readonly logger = new Logger(AiService.name);
  private readonly chatModel: ChatGoogleGenerativeAI;

  constructor(private configService: ConfigService) {
    this.chatModel = new ChatGoogleGenerativeAI({
      apiKey: this.configService.get<string>('GOOGLE_API_KEY'),
      temperature: 0.7,
      model: 'gemini-2.5-flash',
      maxOutputTokens: 1000,
      streaming: false,
      callbacks: [
        {
          handleLLMError: (error) => {
            this.logger.error('LLM Error:', {
              message: error.message,
              name: error.name,
              stack: error.stack,
            });
          },
          handleLLMEnd: (output) => {
            this.logger.debug('LLM Response:', {
              usage: output.llmOutput?.tokenUsage,
            });
          },
        },
      ],
      maxRetries: 3,
    });
  }

  async generateResponse(userMessage: string): Promise<string> {
    console.log('userMessage', userMessage);

    // Define product information in Mongolian
    const productList = `
    1. –û–ª–æ–Ω “Ø–π–ª–¥—ç–ª—Ç –Ω–æ–≥–æ–æ —Ö—ç—Ä—á–∏–≥—á
    - “Æ–Ω—ç: 18,500‚ÇÆ
    - –û–Ω—Ü–ª–æ–≥:
      - –¶—ç–≤—ç—Ä –≥–∞–Ω –∏—Ä—Ç—ç–π, –ø—Ä–∞–∫—Ç–∏–∫ –∑–∞–≥–≤–∞—Ä.
      - –ù–æ–≥–æ–æ –±–æ–ª–æ–Ω –∂–∏–º—Å–∏–π–≥ —è–Ω–∑ –±“Ø—Ä—ç—ç—Ä —Ö—ç—Ä—á–∏—Ö —Å–æ–ª—å–∂ –±–æ–ª–¥–æ–≥ –∏—Ä–Ω“Ø“Ø–¥—Ç—ç–π.
      - –ì–∞—Ä –≥—ç–º—Ç—ç—Ö—ç—ç—Å —Ö–∞–º–≥–∞–∞–ª–∞—Ö –∞—é—É–ª–≥“Ø–π –∞–∂–∏–ª–ª–∞–≥–∞–∞–Ω—ã —Å–∏—Å—Ç–µ–º—Ç—ç–π.
      - –ó—ç–≤—ç—Ä–¥—ç–≥–≥“Ø–π, —É–¥–∞–∞–Ω —ç–¥—ç–ª–≥—ç—ç—Ç—ç–π –º–∞—Ç–µ—Ä–∏–∞–ª—Ç–∞–π.
      - –•–∞–ª—å—Ç–∏—Ä–¥–∞–≥–≥“Ø–π —Å—É—É—Ä—å—Ç–∞–π, —Ö—ç—Ä—ç–≥–ª—ç—Ö—ç–¥ —Ö—è–ª–±–∞—Ä.
      - –•–æ–æ–ª —Ö–∏–π—Ö –ø—Ä–æ—Ü–µ—Å—Å—ã–≥ —Ö”©–Ω–≥”©–≤—á–∏–ª–∂ —Ü–∞–≥ —Ö—ç–º–Ω—ç–Ω—ç.
    - –•“Ø—Ä–≥—ç–ª—Ç: “Æ–Ω—ç–≥“Ø–π —Ö“Ø—Ä–≥—ç–ª—Ç—Ç—ç–π.√ü
  
    2. Wi-Fi –£—Ö–∞–∞–ª–∞–≥ –ó–∞–ª–≥—É—É—Ä
    - “Æ–Ω—ç: “Æ–Ω–¥—Å—ç–Ω “Ø–Ω—ç: 45,000‚ÇÆ, –•—è–º–¥–∞—Ä—Å–∞–Ω “Ø–Ω—ç: 35,000‚ÇÆ
    - –û–Ω—Ü–ª–æ–≥:
      - 20A —Ö“Ø—Ä—Ç—ç–ª ”©–Ω–¥”©—Ä —á–∞–¥–∞–ª—Ç–∞–π, —Ç–æ–º –æ–≤—Ä—ã–Ω —Ç”©—Ö”©”©—Ä”©–º–∂–∏–π–≥ –¥—ç–º–∂–∏–Ω—ç.
      - Alexa, Google Assistant, Tmall Genie-—Ç—ç–π –Ω–∏–π—Ü—Ç—ç–π.
      - Tuya –±–æ–ª–æ–Ω Smart Life –∞–ø–ø-—É—É–¥—Ç–∞–π –±“Ø—Ä—ç–Ω –∞–∂–∏–ª–ª–∞–Ω–∞.
      - Wi-Fi —Ö–æ–ª–±–æ–ª—Ç–æ–æ—Ä —Ö—è–ª–±–∞—Ä —Å—É—É—Ä–∏–ª—É—É–ª–Ω–∞.
      - –¶–∞–≥ —Ç–æ—Ö–∏—Ä—É—É–ª–∞—Ö –≥–æ—Ä–∏–º—Ç–æ–π ‚Äì —Ç”©—Ö”©”©—Ä”©–º–∂”©”© –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –∞—Å–∞–∞–∂, —É–Ω—Ç—Ä–∞–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.
      - –ù—ç–≥ —É—Ç–∞—Å–Ω–∞–∞—Å –æ–ª–æ–Ω —Ç”©—Ö”©”©—Ä”©–º–∂ —É–¥–∏—Ä–¥–∞—Ö —ç—Å–≤—ç–ª –æ–ª–æ–Ω —É—Ç–∞—Å–Ω–∞–∞—Å –Ω—ç–≥ —Ç”©—Ö”©”©—Ä”©–º–∂ —É–¥–∏—Ä–¥–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.
    - –•“Ø—Ä–≥—ç–ª—Ç: –•–æ—Ç –¥–æ—Ç–æ—Ä “Ø–Ω—ç–≥“Ø–π —Ö“Ø—Ä–≥—ç–ª—Ç—Ç—ç–π.
    3.–¢–∞–Ω—ã –≥—ç—Ä –±–æ–ª–æ–Ω –æ—Ñ—Ñ–∏—Å—Ç —Ç–∞–∞—Ç–∞–π —É—É—Ä –∞–º—å—Å–≥–∞–ª –±“Ø—Ä–¥“Ø“Ø–ª—ç—Ö –£—Ö–∞–∞–ª–∞–≥ “Æ–Ω—ç—Ä—Ç“Ø“Ø–ª—ç–≥—á! üå∏
üåÄ 5 —Ç”©—Ä–ª–∏–π–Ω —Ç–æ—Ö–∏—Ä—É—É–ª–≥–∞—Ç–∞–π –≥–æ—Ä–∏–º - –¢–∞ —Ö“Ø—Å—Å—ç–Ω “Ø–Ω—ç—Ä—ç—ç –∏—Ö —ç—Å–≤—ç–ª –±–∞–≥–∞ —Ö—ç–º–∂—ç—ç–≥—ç—ç—Ä —Ç–æ—Ö–∏—Ä—É—É–ª–∂ –±–æ–ª–Ω–æ.
üè° ”®—Ä–≥”©–Ω —Ö–∞–º—Ä–∞—Ö —Ö“Ø—Ä—ç—ç - 5-60–º2 —Ç–∞–ª–±–∞–π–≥ —Ö–∞–º—Ä–∞–Ω–∞
üîã –£–¥–∞–∞–Ω —Ö—É–≥–∞—Ü–∞–∞–Ω—ã –∞—à–∏–≥–ª–∞–ª—Ç - –ù—ç–≥ —É–¥–∞–∞–≥–∏–π–Ω —Ü—ç–Ω—ç–≥–ª—ç–ª—Ç—ç—ç—Ä 60 —Ö–æ–Ω–æ–≥ —Ö“Ø—Ä—Ç—ç–ª —Ü—ç–Ω—ç–≥—ç—ç –±–∞—Ä–∏–Ω–∞.
üåø –ë–∞–π–≥–∞–ª–∏–π–Ω –≥–∞—Ä–∞–ª—Ç–∞–π “Ø–Ω—ç—Ä—Ç“Ø“Ø–ª—ç–≥—á - –≠—Ä“Ø“Ø–ª, –∞—é—É–ª–≥“Ø–π —Ö—ç—Ä—ç–≥–ª—ç—ç, —Ç–∞–Ω—ã –æ–π—Ä –æ—Ä—á–º—ã–≥ —Ç–∞–≤ —Ç—É—Ö—Ç–∞–π –±–æ–ª–≥–æ–Ω–æ.
‚ú® –≠–Ω–≥–∏–π–Ω, –¥—ç–≥–∂–∏–Ω –∑–∞–≥–≤–∞—Ä - –•–∞–Ω–∞–Ω–¥ ”©–ª–≥”©—Ö –±–æ–ª–æ–Ω —à–∏—Ä—ç—ç–Ω –¥—ç—ç—Ä –±–∞–π—Ä–ª—É—É–ª–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π.
 üéÅ–î–∞–≥–∞–ª–¥–∞—Ö –∑“Ø–π–ª—Å:
*. 5 —à–∏—Ä—Ö—ç–≥ ”©”©—Ä —Ç”©—Ä–ª–∏–π–Ω –∞–Ω—Ö–∏–ª–∞–º “Ø–Ω—ç—Ä—Ç“Ø“Ø–ª—ç–≥—á
*. –¶—ç–Ω—ç–≥–ª—ç–≥—á –∫–∞–±–µ–ª—å
*. “Æ–Ω—ç—Ä—Ç“Ø“Ø–ª—ç–≥—á–∏–π–Ω –∞–ø–ø–∞—Ä–∞—Ç
“Æ–ù–≠:35000‚ÇÆ
 üöñ–¢–∞ –æ–¥–æ–æ –∑–∞—Ö–∏–∞–ª–∞–∞–¥ “Ø–Ω—ç–≥“Ø–π —Ö“Ø—Ä–≥“Ø“Ø–ª—ç—ç–¥ –∞–≤–∞–∞—Ä–∞–π
 4.–û–ª–æ–Ω “Ø–π–ª–¥—ç–ª—Ç –º–∏–Ω–∏ —Ö—É–≤–∏—Ä–≥–∞–≥—á —Å–µ—Ç! üåü
‚úÖ Type-C to USB —Ö—É–≤–∏—Ä–≥–∞–≥—á
‚úÖ –°–∏–º –≥–∞—Ä–≥–∞–≥—á
‚úÖ 3 —à–∏—Ä—Ö—ç–≥ —Å–∏–º —Ö–∞–¥–≥–∞–ª–∞–≥—á
‚úÖ Type-C to iPhone —Ö—É–≤–∏—Ä–≥–∞–≥—á
‚úÖ Type-C to Micro(—Ö—É—É—á–∏–Ω android) —Ö—É–≤–∏—Ä–≥–∞–≥—á
‚úÖ Type-C –∫–∞–±–µ–ª—å
üìå –ñ–∏–∂–∏–≥—Ö—ç–Ω –±”©–≥”©”©–¥ –∞–≤—Å–∞–∞—Ä—Ö–∞–Ω –¥–∏–∑–∞–π–Ω—ã –∞—á–∞–∞—Ä —Ç–∞ “Ø“Ø–Ω–∏–π–≥ —Ö–∞–∞–Ω–∞ —á –∞–≤—á —è–≤–∞—Ö –±–æ–ª–æ–º–∂—Ç–æ–π!
üíº –û—Ñ—Ñ–∏—Å, –∞—è–ª–∞–ª, ”©–¥”©—Ä —Ç—É—Ç–º—ã–Ω —Ö—ç—Ä—ç–≥—Ü—ç—ç–Ω–¥ —è–≥ —Ç–æ—Ö–∏—Ä—Å–æ–Ω.
“Æ–ù–≠:20000‚ÇÆ
üöñ –û–¥–æ–æ –∑–∞—Ö–∏–∞–ª–∞–∞–¥ “Ø–Ω—ç–≥“Ø–π —Ö“Ø—Ä–≥“Ø“Ø–ª—ç—ç–¥ –∞–≤–∞–∞—Ä–∞–π
5.–¢–∞–Ω—ã –≥—ç—Ä—Ç ”©–Ω–≥”©, –¥—É–ª–∞–∞–Ω —É—É—Ä –∞–º—å—Å–≥–∞–ª –Ω—ç–º—ç—Ö —Ö–∞–∞–ª–≥–∞–Ω—ã –±–∞—Ä–∏—É–ªüå∏
–ì–æ—ë–º—Å–æ–≥ –ø–∞—Å—Ç–µ–ª ”©–Ω–≥”©—Ç—ç–π —Ü—ç—Ü—ç–≥ —Ö—ç–ª–±—ç—Ä—Ç—ç–π —á–∏–º—ç–≥–ª—ç–ª—Ç—ç–π, –∑”©”©–ª”©–Ω –º–∞—Ç–µ—Ä–∏–∞–ª–∞–∞—Ä —Ö–∏–π–≥–¥—Å—ç–Ω —ç–Ω—ç—Ö“Ø“Ø –±–∞—Ä–∏—É–ª—ã–Ω –±“Ø—Ä—ç—ç—Å –Ω—å —Ç–∞–Ω—ã —Ö–∞–∞–ª–≥—ã–≥ ”©–≤”©—Ä–º”©—Ü, –∑–∞–≥–≤–∞—Ä–ª–∞–≥ —Ö–∞—Ä–∞–≥–¥—É—É–ª–∞—Ö —Ç”©–¥–∏–π–≥“Ø–π –±–∞—Ä–∏—É–ª—ã–≥ —ç–ª—ç–≥–¥—ç–ª, –±–æ—Ö–∏—Ä–¥–ª–æ–æ—Å —Ö–∞–º–≥–∞–∞–ª–Ω–∞. üëå
‚úÖ –•“Ø“Ø—Ö–¥–∏–π–Ω ”©—Ä”©”©–Ω–¥ —Ç”©–≥—Å —Ç–æ—Ö–∏—Ä–Ω–æ!
‚úÖ –ó”©”©–ª”©–Ω, —Ç–∞–Ω—Å–∞–≥ –º—ç–¥—Ä—ç–º–∂
‚úÖ –ì–æ—ë–ª —á–∏–º—ç–≥–ª—ç–ª –±–∞ —Ö–∞–º–≥–∞–∞–ª–∞–ª—Ç –Ω—ç–≥ –¥–æ—Ä
–¢–∞–Ω—ã –≥—ç—Ä –±“Ø–ª–∏–π–Ω –¥—É–ª–∞–∞–Ω —É—É—Ä –∞–º—å—Å–≥–∞–ª—ã–≥ –±“Ø—Ä–¥“Ø“Ø–ª—ç—Ö –∂–∏–∂–∏–≥ –±”©–≥”©”©–¥ –æ–Ω—Ü–≥–æ–π –¥–µ—Ç–∞–ª—å –±–∞–π–∂ —á–∞–¥–Ω–∞! üíñ
“Æ–Ω—ç:3—à–∏—Ä—Ö—ç–≥ 20000‚ÇÆ
üì¶ –•“Ø—Ä–≥—ç–ª—Ç “Ø–Ω—ç–≥“Ø–π!
6.(—ç–Ω—ç –±–∞—Ä–∞–∞ –¥—É—É—Å—Å–∞–Ω) –ë“Ø“Ø—Ä “Ø–Ω—ç—Ö—ç—ç—Ä nice –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç –¥—ç–≤—Å–≥—ç—Ä 
üå∏–ì–∞–ª —Ç–æ–≥–æ–æ–Ω—ã —Ö–æ—Å –¥—ç–≤—Å–≥—ç—Äüå∏
–®–∞–ª —Ö–∞–º–≥–∞–∞–ª—Ö–∞–∞—Å —ç—Ö–ª—ç—ç–¥ –∏—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π –æ–ª–æ–Ω –¥–∞–≤—É—É —Ç–∞–ª—Ç–∞–π–¥–∞–∞
‚úÖ –¶—É–ª–≥—É–π —ç–ª–¥—ç–≤ —Ö—ç—ç –∑—É—Ä–∞–≥ –±–∞–π—Ö–≥“Ø–π —É—á–∏—Ä –≥—ç—Ä–∏–π–≥ “Ø–Ω—ç—Ö—ç—ç—Ä —Ü—ç–≤—ç—Ä—Ö—ç–Ω –≥—ç–≥—ç—ç–ª—ç–≥ ”©–Ω–≥”©–ª”©–≥ —Ö–∞—Ä–∞–≥–¥—É—É–ª–Ω–∞
‚úÖ —Ü—ç–≤—ç—Ä–ª—ç—Ö—ç–¥ –º–∞—à —Ö—è–ª–±–∞—Ä
‚úÖ —Ö–∞–ª—É—É–Ω–¥ —Ç—ç—Å–≤—ç—Ä—Ç—ç–π
‚úÖ —Ö–∞–ª—å—Ç–∞—Ä—Ö–∞–∞—Å —Å—ç—Ä–≥–∏–π–ª—Å—ç–Ω –∑—É—É—Ä–∞–≥—á—Ç–∞–π —É—á–∏—Ä —Ö”©–¥–ª”©—Ö–≥“Ø–π
‚úÖ —É—Å –Ω—ç–≤—Ç—ç—Ä—ç—Ö–≥“Ø–π
‚úÖ —É–¥–∞–∞–Ω —ç–¥—ç–ª–≥—ç—ç—Ç—ç–π
‚úÖ “Ø–Ω—ç—Ä–≥“Ø–π 
‚úÖ –Ω—è–Ω –±–∞–∫—Ç–µ—Ä “Ø—Ä–∂–∏—Ö–≥“Ø–π
‚úÖ —É—Å —Ö—É—Ä–¥–∞–Ω —à–∏–Ω–≥—ç—ç–∂ —Ö—É—Ä–¥–∞–Ω —Ö–∞—Ç–¥–∞–≥
–•—ç–º–∂—ç—ç: 40*60-40*160—Å–º
“Æ–Ω—ç:  —Ö–æ—Å–æ–æ—Ä–æ–æ 49.000
‚ùï‚ùï‚ùï–±–æ–¥–∏—Ç –∑—É—Ä–∞–≥ –æ—Ä—É—É–ª—Å–∞–Ω –±–∞–π–≥–∞–∞ ü§ó
–¢–∞ –∑–∞—Ö–∏–∞–ª–∞—Ö –±–æ–ª —á–∞—Ç–∞–∞—Ä —É—Ç–∞—Å —Ö–∞—è–≥–∞–∞ —è–≤—É—É–ª–∞–∞—Ä–∞–π üöô “Ø–Ω—ç–≥“Ø–π —Ö“Ø—Ä–≥—ç–∂ ”©–≥–Ω”©.
–û—á–æ–æ–¥ –±–∞—Ä–∞–∞ –∞–≤–∞–∞–≥“Ø–π —Ç–æ—Ö–∏–æ–ª–¥–æ–ª–¥ —Ö“Ø—Ä–≥—ç–ª—Ç–∏–π–Ω –º”©–Ω–≥”©–∞ ”©–≥—Ö–∏–π–≥ –∞–Ω—Ö–∞–∞—Ä–Ω—É—É‚ùóÔ∏è
7.–ì–∞—Ä —É—Ç–∞—Å,—á–∏—Ö—ç–≤—á,keyboard
–¶—ç–≤—ç—Ä–ª—ç–≥—ç—ç–Ω–∏–π –∏–∂ –±“Ø—Ä–¥—ç–ª
"–¢–∞–Ω—ã —Ü—ç–≤—ç—Ä—Ö—ç–Ω, —Ü—ç–≥—Ü—Ç—ç–π –æ—Ä—á–Ω—ã –Ω—É—É—Ü!"
‚úÖ–•”©–≤”©–Ω –±–æ–ª–æ–Ω —Å–∏–ª–∏–∫–æ–Ω —Ö–æ—à—É—É ‚Äì –•“Ø—Ä—ç—Ö—ç–¥ —Ö—ç—Ü“Ø“Ø –±—É–ª–∞–Ω, –∑–∞–≤—Å—Ä—ã–≥ –Ω–∞—Ä–∏–π–Ω —Ü—ç–≤—ç—Ä–ª—ç–Ω—ç.
‚úÖ–î—ç–ª–≥—ç—Ü —Ü—ç–≤—ç—Ä–ª—ç–≥—á ‚Äì –î—ç–ª–≥—ç—Ü–∏–π–≥ –≥—è–ª–∞–ª–∑—Å–∞–Ω, —Ç–æ–ª–±–æ–≥“Ø–π –±–æ–ª–≥–æ–Ω–æ.
‚úÖ–¢–æ–≤—á —Å—É–≥–∞–ª–∞–≥—á ‚Äì –ì–∞—Ä–Ω—ã —Ç–æ–≤—á–ª—É—É—Ä—É—É–¥—ã–≥ –∞—é—É–ª–≥“Ø–π —Å—É–≥–∞–ª–∂, –¥–æ—Ç–æ—Ä—Ö —Ç–æ–æ—Å —à–æ—Ä–æ–æ, –±–æ—Ö–∏—Ä–¥–ª—ã–≥ –∞—Ä–∏–ª–≥–∞–Ω–∞.
‚úÖ–¶—ç–≤—ç—Ä–ª—ç–≥—á –±–∞–≥—Å ‚Äì –¢–æ–æ—Å, —à–æ—Ä–æ–æ, –∂–∏–∂–∏–≥ –±–æ—Ö–∏—Ä–¥–ª—ã–≥ –∞–º–∞—Ä—Ö–∞–Ω —Ü—ç–≤—ç—Ä–ª—ç–Ω—ç.
–ó”©”©–ª”©–Ω –¥—ç–ª–≥—ç—Ü –∞—Ä—á–∏–≥—á ‚Äì –î—ç–ª–≥—ç—Ü–∏–π–≥ –∑—É—Ä–∞–∞—Å–≥“Ø–π, —Ç—É–Ω–≥–∞–ª–∞–≥, —Ç–æ–ª–±–æ–≥“Ø–π –±–æ–ª–≥–æ–Ω–æ.
üí∏ “Æ–Ω—ç: 20,000‚ÇÆ
üì≤ ”®–Ω”©”©–¥”©—Ä –∑–∞—Ö–∏–∞–ª–∂ –∞–≤–∞–∞—Ä–∞–π! –¢–∞–Ω—ã —Ç”©—Ö”©”©—Ä”©–º–∂“Ø“Ø–¥ —Ü—ç–≤—ç—Ä—Ö—ç–Ω –±–∞–π—Ö–∞–∞—Å –≥–∞–¥–Ω–∞ –∏–ª“Ø“Ø —É–¥–∞–∞–Ω —ç–¥—ç–ª–≥—ç—ç—Ç—ç–π –±–∞–π—Ö –±–æ–ª–Ω–æ! 

8.–ì–æ—ë –∑”©”©–ª”©–Ω —á–∞–Ω–∞—Ä—Ç–∞–π —à–∞–ª–Ω—ã –¥—ç–≤—Å–≥—ç—Ä“Ø“Ø–¥ –∏—Ä—Å—ç–Ω –±–∞–π–≥–∞–∞ —à“Ø“Ø üå∏ –∞–≤–∞—Ö –Ω—å —É—Ç–∞—Å–Ω—ã –¥—É–≥–∞–∞—Ä–∞–∞ –±–∏—á—ç—ç–¥ “Ø–ª–¥—ç—ç–≥—ç—ç—Ä—ç–π
–•—ç–º–∂—ç—ç: 70*180—Å–º 
“Æ–Ω—ç: 49.900‚ÇÆ
‚úÖ –∑”©”©–ª”©–Ω 
‚úÖ ”©–Ω–≥”©–ª”©–≥ —Ö”©”©—Ä—Ö”©–Ω
‚úÖ “Ø—Å —É–Ω–∞—Ö–≥“Ø–π
‚úÖ —É–≥–∞–∞–∂ –±–æ–ª–Ω–æ –≥–∞—Ä–∞–∞—Ä –±–æ–ª–æ–Ω –º–∞—à–∏–Ω–∞–∞—Ä
(V1 –≥—ç—ç–¥ –∫–æ–¥–æ–æ —Ö—ç–ª—ç—ç–¥ –∑–∞—Ö–∏–∞–ª–∞–∞—Ä–∞–π)
 (V1 –≥–∞—Ö–∞–π–Ω—ã –∑—É—Ä–∞–≥—Ç–∞–π,V2 –≥“Ø–∑—ç—ç–ª–∑–≥—ç–Ω–∏–π –∑—É—Ä–∞–≥—Ç–∞–π, V3 –¶–∞–≥–∞–∞–Ω ”©–Ω–≥”©—Ç—ç–π —Ü—ç—Ü—ç–≥—Ç—ç–π , V4 –¶—ç—Ü—ç–≥—Ç—ç–π —Ü–∞–≥–∞–∞–Ω –±–∞–∞–≤–≥–∞–π—Ç–∞–π, V5 –Ø–≥–∞–∞–Ω ”©–Ω–≥”©—Ç—ç–π —Ü–∞–≥–∞–∞–Ω “Ø“Ø–ª –±–æ–ª–æ–Ω “Ø“Ø–ª—ç–Ω —Ö—ç–ª–±—ç—Ä—Ç—ç–π –±–∞–º–±–∞—Ä—É—É—à—Ç–∞–π, V6 –Ø–≥–∞–∞–Ω ”©–Ω–≥”©—Ç—ç–π —Ü—ç—Ü—ç–≥—Ç—ç–π, —Ü–∞–≥–∞–∞–Ω ”©–Ω–≥–∏–π–Ω –¥—ç–≤—Å–≥—ç—Ä)
    `;

    try {
      const response = await this.chatModel.invoke([
        new SystemMessage(
          `–¢–∞ Facebook-–∏–π–Ω –º–µ—Å—Å–µ–∂“Ø“Ø–¥—ç–¥ —Ö–∞—Ä–∏—É–ª–∞—Ö —ç–µ–ª–¥—ç–≥, –æ–π–ª–≥–æ–º–∂—Ç–æ–π —Ç—É—Å–ª–∞—Ö —é–º. –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –∞—Å—É—É–ª—Ç–∞–¥ —Ö–∞—Ä–∏—É–ª–∞—Ö–¥–∞–∞ –¥–æ–æ—Ä—Ö –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω–∏–π –º—ç–¥—ç—ç–ª–ª–∏–π–≥ –∞—à–∏–≥–ª–∞–Ω–∞ —É—É:\n\n${productList}`,
        ),
        new HumanMessage(userMessage),
      ]);

      return response.content.toString();
    } catch (error) {
      this.logger.error(`AI —Ö–∞—Ä–∏—É “Ø“Ø—Å–≥—ç—Ö—ç–¥ –∞–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: ${error.message}`);
      throw error;
    }
  }
}